#!/usr/bin/env bash
# -*- coding:utf-8 -*-

# debugging:
# set -x
# stop on error:
# set -e

# \[command]    # escape any command aliases

Run() {
    echo "$@"
         "$@"
    # TODO return code
}

RunBg() {
    echo "$@ &"
         "$@" &
}

# On command line I wanna have vim
# Only git commit and git add need to do editing
RunGit() {
    #echo -e "before:\n EDITOR: $EDITOR\n ALTERNATE_EDITOR: $ALTERNATE_EDITOR\n VISUAL: $VISUAL"
    local e=$EDITOR
    local a=$ALTERNATE_EDITOR
    local v=$VISUAL
    unset EDITOR ALTERNATE_EDITOR VISUAL
    #echo -e "during:\n EDITOR: $EDITOR\n ALTERNATE_EDITOR: $ALTERNATE_EDITOR\n VISUAL: $VISUAL"
    Run $@
    EDITOR=${e}
    ALTERNATE_EDITOR=${a}
    VISUAL=${v}
    #echo -e "after:\n EDITOR: $EDITOR\n ALTERNATE_EDITOR: $ALTERNATE_EDITOR\n VISUAL: $VISUAL"
}

alias reload='Run source ~/.bash_profile'
     alias r='Run source ~/.bash_profile'
alias tf='Run tail -f'
 alias t='Run tail'

CleanEclipseWorkspace() {
    METADA_CORE=.metadata/.plugins/org.eclipse.jdt.core
    Run rm -rf .metadata/.plugins/org.eclipse.core.resources/.history
    Run rm ${METADA_CORE}/*.index ${METADA_CORE}/savedIndexNames.txt
}
alias clean-ws='CleanEclipseWorkspace'
alias unexport='unset'
alias envp='env | grep ^PATH='

alias v='vim'
alias cls='clear'
alias prep='Run pgrep --list-full'

ExtractBashComments() {
    egrep "^#"
# Usage:
# cat myscript.sh | ExtractBashComments | wc
# comments=$(ExtractBashComments < myscript.sh)
}

#ping -c 5 www.google.com
alias png='Run mtr google.com'

alias c='Run cat'
alias less='Run less -r'
#alias rm='rm -i'
alias whence='Run type -a'

alias ..='Run cd ..'
alias ...='Run cd ../..'
alias ....='Run cd ../../..'
alias ..4="Run cd ../../../.."
alias ..5="Run cd ../../../../.."

alias cd..='Run cd ..'
alias cd...='Run cd ../..'

alias cd-='Run cd -'
alias cdd='Run cd -'

alias gap='RunGit git add -p'
alias gad='RunGit git add'
alias gdd='RunGit git add'
alias glg='Run git log'
alias gaa='RunGit git add .'
 alias gg='RunBg git gui'
alias gtg='Run git tag'
alias gcp='Run git cherry-pick'
alias gmr='Run git merge'
alias gbr='Run git branch'
alias gbrm='Run git branch -m'
alias gbrd='Run git branch -d'
alias gmv='Run git mv'
alias grm='Run git rm'
alias ghe='Run git help'
alias  gsh='Run git stash'
alias gshp='Run git stash pop'
alias gcred='Run git --git-dir=$HOME/dev-win/credit.repo.git/.git/'
alias gsedt='Run git --git-dir=$HOME/dev-win/sedt.git/.git'

GrepFind() {
    echo "grep -lir '$1' $\(find . -name '*.$2'\)"
    echo "###"
    if [ $# -eq 2 ] ; then
        foundFiles=$(find . -name \*.${2})
        # echo "foundFiles: "$foundFiles
        grep -lir ${1} ${foundFiles}
    fi
}
alias gf='GrepFind'

 alias gr='RunGit git rebase'
alias grb='RunGit git rebase'
alias gri='RunGit git rebase --interactive'
alias grc='Run git rebase --continue'
alias gra='Run git rebase --abort'
alias grs='Run git rebase --skip'
alias gdf='Run git diff'

  alias gh='Run git push'
 alias gho='Run git push origin'
alias ghof='Run git push origin -f'

GitPullRebase() {
    Run git pull --rebase origin $@ && \
    Run git fetch --tags
}

alias gl='Run git pull'
alias glo='GitPullRebase'
GitPullRebaseUpstreamMaster() {
    Run git pull --rebase upstream master && \
    Run git fetch --tags upstream
}
alias glu='GitPullRebaseUpstreamMaster'

alias gbis='Run git bisect start'
alias gbir='Run git bisect reset'
alias gbb='Run git bisect bad'
alias gbg='Run git bisect good'

alias gla='git lg-all'
alias glh='git lg-head'
 alias lg='git lg-head'

alias gk='RunBg gitk --all'
#alias gitk='RunBg gitk --all'

GitSearchStr () {
    # Search for a string in all revisions of entire git history
    git rev-list --all | (
        while read revision; do
            #git grep -F 'Your search string' $revision
            git grep -F '$1' $revision
        done
    )
}
alias gstr='GitSearchStr'

# ltree: colored tree with 'less'. --RAW-CONTROL-CHARS == -R
ltree () {
    tree -C $@ | less --RAW-CONTROL-CHARS
}

# TODO TreeNonIgnored should take .gitignore as input
TreeNotIgnored () {
    echo "tree | grep -v 'class\|.*~'"
          tree | grep -v 'class\|.*~'
}
alias trn='TreeNotIgnored'
alias tn='TreeNotIgnored'

findreplace () {
    printf "Search: ${1}\n"
    printf "Replace: ${2}\n"
    printf "In: ${3}\n\n"

    find . -name "*${3}" -type f | xargs perl -pi -e 's/${1}/${2}/g'
}

extract() {
    if [ -f "$1" ] ; then
      case ${1} in
        *.tar.bz2)
              Run tar xjf ${1}
              ;;
        *.tar.gz)
              Run tar xzf ${1}
              ;;
        *.bz2)
              Run bunzip2 ${1}
              ;;
        *.rar)
              Run unrar e ${1}
              ;;
        *.gz)
              Run gunzip ${1}
              ;;
        *.tar)
              Run tar xf ${1}
              ;;
        *.tbz2)
              Run tar xjf ${1}
              ;;
        *.tgz)
              Run tar xzf ${1}
              ;;
        *.jar)
              Run unzip ${1}
              ;;
        *.war)
              Run unzip ${1}
              ;;
        *.zip)
              Run unzip ${1}
              ;;
        *.Z)
              Run uncompress ${1}
              ;;
        *.7z)
              Run 7z x ${1}
              ;;
        *.tar.xz)
              Run tar xvfJ ${1}
              ;;
        *)     echo "'${1}' cannot be extracted via extract()" ;;
        esac
     else
         echo "'${1}' is not a valid file"
     fi
}

findTextInAnyFile () {
    echo find . -name "$2" -exec grep -il "$1" {} \;
         find . -name "$2" -exec grep -il "$1" {} \;
}
alias ft='findTextInAnyFile'

# create a directory and change into it
mkdirAndCd() {
  echo mkdir -p \"$1\" \&\& cd \"$1\"
       mkdir -p  "$1"   &&  cd  "$1"
}
alias take='mkdirAndCd'

alias  lc='Run lein clean'
alias lcc='Run lein clean'
alias lco='Run lein cljsbuild once'
alias lca='Run lein cljsbuild auto'
alias lrs='Run lein ring server'

alias oma='Run cd ${dev}/om-async'
alias src='Run cd src'
alias omt='Run cd ${dev}/om-tut'
alias lcad='Run lein cljsbuild auto dev' # start it in om-async directory
alias  lco='Run lein cljsbuild once' # start it in om-async directory
alias lcxa='Run lein cljx auto' # start it in om-async directory

GitUpdateAll() {
    local _pwd=$(pwd)
    local _oldpwd=${OLDPWD}

    Run cd ${dev}/cheatsheet
    Run git pull --rebase origin # && Run git fetch --tags

    Run cd ${dev}/dotfiles
    Run git pull --rebase origin # && Run git fetch --tags

    cd ${_cd}
    Run source ${HOME}/.bashrc
    cd ${_pwd}
    OLDPWD=${_oldpwd}
}
 alias ga='GitUpdateAll'
alias gua='GitUpdateAll'

GitPushRepo() {
    echo 'cd '${1}' && git push'
          cd  ${1}  && git push
}

GitPushAll() {
    local _pwd=$(pwd)
    local _oldpwd=${OLDPWD}
    GitPushRepo ${dev}/cheatsheet && GitPushRepo ${dev}/dotfiles
    cd ${_pwd}
    OLDPWD=${_oldpwd}
}
alias gha='GitPushAll'
#gpl_dotfiles='echo "${dev}/dotfiles"; cd ${dev}/dotfiles && git pull'
#alias gps='cd $dotfilesHOME/vim-pathogen && git submodule foreach git pull origin master'

alias gcl='Run git clone'
alias gau='RunGit git add --update'
alias gau='RunGit git add -p'
alias gss='Run git status --short'
 alias gs='Run git status --short'
alias gst='Run git status'
alias gfe='Run git fetch'
alias gfeu='Run git fetch upstream'
alias gfeo='Run git fetch origin'
alias gco-='Run git checkout -'
alias gcoo='Run git checkout -'
alias gcod='Run git checkout -'
alias gcob='Run git checkout -b'
alias gco='Run git checkout'
alias gcom='Run git checkout master'
alias gcome='Run git checkout merger'
alias gci='git commit'
alias gcim='git commit -m'
alias gcianoe='Run git commit --amend --no-edit'
alias gcia='Run git commit --amend'
alias grh='Run git reset --hard'
alias ph='Run git_prompt_help'

#alias gdm='git diff master'
#alias gd='git diff | mate'
#alias gnp='git-notpushed'
#alias grm='git status | grep deleted | awk '

 alias sc='script/console'
alias h10='history | tail -10'
alias h20='history | tail -20'
alias h30='history | tail -30'
alias h40='history | tail -40'
alias h1='history | tail -10'
alias h2='history | tail -20'
alias h3='history | tail -30'
alias h4='history | tail -40'
 alias h='history'

HistoryGrep() {
    Run history | grep $@
}
alias hrep='HistoryGrep'

AliasGrep() {
    Run alias | grep $@
}
alias arep=AliasGrep

CheatsheetGrep() {
    local _pwd=$(pwd)
    local _oldpwd=${OLDPWD}
    cd ${dev}/cheatsheet/
    ack-grep *-commands.js \
             --nogroup \--break --with-filename --color-filename=grey13 \
             --color-lineno=grey13 --color-match="bold blue" \
             --ignore-case --match ${@}
    # Run grep -i $@ ${dev}/cheatsheet/*-commands.js
    cd ${_pwd}
    OLDPWD=${_oldpwd}
}
alias crep='CheatsheetGrep'
  alias cr='CheatsheetGrep'

CheatsheetGrepHost() {
    local _pwd=$(pwd)
    local _oldpwd=${OLDPWD}
    cd ${dev}/cheatsheet/
    ack-grep host-commands.js \
             --nogroup \--break --with-filename --color-filename=grey13 \
             --color-lineno=grey13 --color-match="bold blue" \
             --ignore-case --match ${@}
    # Run grep -i $@ ${dev}/cheatsheet/*-commands.js
    cd ${_pwd}
    OLDPWD=${_oldpwd}
}
alias creph='CheatsheetGrepHost'

#alias tu='top -o cpu'
#alias tm='top -o vsize'
#alias r='rake'
#alias mkdir='nocorrect mkdir'
#alias cp='nocorrect cp'
alias md='Run mkdir -p'
#alias mv='nocorrect mv'
#alias where='command -v'
#alias ff='open -a Firefox'
#alias o='open . &'
#alias less='less -R'

#alias cp='cp -i'
#alias mv='mv -i'

# example:
# alias cvs-reset='cvs update -C -l -d -P "X.java" "Y.java"'
alias cvs-reset='cvs update -C -l -d -P '
alias less='less -r'

# type: Display information about command type
alias whence='type -a'
alias dir='ls --color=auto --format=vertical'
alias vdir='ls --color=auto --format=long'
alias ldir='ls --color=auto -la -d1 */'
#alias ls='ls --color=auto'
#alias dir='dir --color=auto'
#alias vdir='vdir --color=auto'

# ls: -A, --almost-all    does not print the . and .. entries
# -h, --human-readable    filesize
alias lx='ls -la $(find . -maxdepth 1 -perm -111 -type f)'
 alias l="ls -lA  --color --time-style='+%d-%m-%Y %H:%M:%S'"
alias lh="ls -lAh --color --time-style='+%d-%m-%Y %H:%M:%S'"
alias ll="ls -lAh --color --time-style='+%d-%m-%Y %H:%M:%S'"
# show hidden files
alias l.='ls -d .* --color=auto'
#alias ls='ls -F --color=tty'
#alias l='ls -lAh'
#alias ls='ls -G'
#alias ls='ls -F --color=tty'
#alias ll='ls -lh'
#alias ll='ls -l'
#alias l='ls -CF'
#alias la='ls -A'

# I guess '2> /dev/null' redirects errors to /dev/null
#alias f='find ./ 2> /dev/null'

FindFile() {
    echo find . -name \"$@\"
         find . -name "$@"
}
alias f='FindFile'
alias cx='Run chmod +x'
alias cw='Run chmod +w'

#alias cp='cp -i'
#alias mv='mv -i'
#alias grep='grep --color'

# --yes to all queries and do not prompt
UpdateUpgradeClean() {
    echo "sudo apt-get update && sudo apt-get upgrade --yes && sudo apt-get clean"
          sudo apt-get update && sudo apt-get upgrade --yes && sudo apt-get clean
    echo "sudo checkrestart"
          sudo checkrestart
}
alias u='UpdateUpgradeClean'
alias d='Run sudo apt-get dist-upgrade --yes'

alias synaptic="RunBg gksudo synaptic"
  alias inst="Run sudo apt-get install --yes"
alias reinst="Run sudo apt-get --reinstall install --yes"
alias uninst="Run sudo apt-get remove --yes"
 alias purge="Run sudo apt-get purge --yes"
   alias rmv="Run sudo apt-get remove --yes"
  alias armv="Run sudo apt-get autoremove --yes"

alias reboot='Run sudo reboot'
#    alias s='Run sudo pm-suspend'
   alias susp='Run sudo pm-suspend'
alias suspend='Run sudo pm-suspend'
#     alias h='Run sudo pm-hibernate'
      alias hib='Run sudo pm-hibernate'
alias hibernate='Run sudo pm-hibernate'
     alias shut='Run sudo shutdown -h now'
alias shutdown='Run sudo shutdown -h now'
alias update-grub='Run sudo update-grub'

# Search the package list for a regex pattern
# TODO alias sea='apt-cache search'

# TODO update 'alias clojure'
# cljcp=$clojureJarFile
# cljcp=$cljcp:${dev}/clojure-contrib/math.combinatorics-0.0.3.jar
# cljcp=$cljcp:${dev}/clojure-contrib/algo.monads-0.1.4.jar
# cljcp=$cljcp:${dev}/clojure-contrib/tools.macro-0.1.1.jar
# cljcp=$cljcp:${dev}/clojure-contrib/data.priority-map-0.0.2.jar
# cljcp=$cljcp:${dev}/clojure-contrib/core.cache-0.6.3.jar
# cljcp=$cljcp:${dev}/clojure-contrib/core.memoize-0.5.5.jar
# alias clojure='Run java -cp $cljcp clojure.main'

# !* - all args of the last command
#alias gvim='RunBg gvim -c "call Maximize_Window()" --remote-silent'
#alias gvim='RunBg gvim -c "call Maximize_Window()"'
alias gvim='RunBg gvim'
alias tmp='Run cd /tmp'

alias music='Run cd $HOME/music/'
alias y='Run youtube-dl'
alias ys='Run youtube-dl --extract-audio --audio-format mp3'
alias m='Run mplayer'
alias lock="Run xflock4"
alias k9='Run kill -9'

alias g='RunGvim'

alias desktop='Run cd $HOME/desktop'
   alias desk='Run cd $HOME/desktop'

alias down='Run cd $HOME/downloads'
alias catg='Run cd $HOME/downloads/category-theory/js'

alias cheat='Run cd ${dev}/cheatsheet'

alias dotf='Run cd ${dev}/dotfiles'
#alias dot='dot'  " /usr/bin/dot  filter for drawing directed graphs

alias bin='Run cd $HOME/bin'
alias hoch='Run cd ${dev}/hochzeit'
alias trackle='Run cd ${dev}/trackle'
alias zark='Run cd ${dev}/zark'
alias foo='Run cd ${dev}/foo'
alias dev='Run cd ${dev}'
# alias e doesn't work it there's no running emacs

DebugEmacs() {
    local emacsBinary=$(which emacs)
    echo ${emacsBinary} --debug-init $@
         ${emacsBinary} --debug-init $@
}
alias edbg='DebugEmacs'

LaunchEmacs() {
    local params=$@
    if [ -z "${params[@]}" ]; then
        params=.
    fi
    local emacsBin=""
    Run pgrep --exact emacs
    # 0: means One or more processes matched the criteria.
    if [ $? == 0 ]; then
        emacsBin=emacsclient
    else
        emacsBin=emacs
    fi
    if [ $isLinuxMartinJV -gt 0 ]; then
        emacsBin=${dev}/emacs/src/$emacsBin
    fi
    RunBg $emacsBin $params
}
alias emacs='LaunchEmacs'

  alias e='RunBg LaunchEmacs'
 alias ea='RunBg LaunchEmacs ${dev}/dotfiles/bash/aliases'
alias eba='RunBg LaunchEmacs ${dev}/dotfiles/bash/aliases'
 alias ee='RunBg LaunchEmacs ${dev}/dotfiles/.emacs'
alias ebe='RunBg LaunchEmacs ${dev}/dotfiles/bash/env'
alias ece='RunBg LaunchEmacs ${dev}/cheatsheet/emacs-commands.js'
alias ech='RunBg LaunchEmacs ${dev}/cheatsheet/host-commands.js'
alias ecg='RunBg LaunchEmacs ${dev}/cheatsheet/git-commands.js'
alias ecr='RunBg LaunchEmacs ${dev}/cheatsheet/rest-commands.js'
alias ecv='RunBg LaunchEmacs ${dev}/cheatsheet/vim-commands.js'
alias ecc='RunBg LaunchEmacs ${dev}/cheatsheet/clojure-commands.js'
 alias ej='RunBg LaunchEmacs ${dev}/dotfiles/jcl/jcl.el'

 # alias eb='RunBg LaunchEmacs ${dev}/dotfiles/.bashrc'
 # alias er='RunBg LaunchEmacs ${dev}/dotfiles/.bashrc'
 # alias el='RunBg LaunchEmacs ${dev}/dotfiles/linux-history.sh'

# Show which commands you use the most
alias freq='cut -f1 -d" " ~/.bash_history | sort | uniq -c | sort -nr | head -n 30'

# Clear terminal and empty scrollback
alias wipe='printf "\ec"'

alias sulast='sudo $(history -p !-1)'
#alias refunction='$EDITOR ~/.bash_functions && source ~/.bash_functions'

GeneratePassw() {
    #echo read -s pass; echo $pass | md5sum | base64 | cut -c -16
         #read -s pass; echo $pass | md5sum | base64 | cut -c -16
    # 30 character password
    echo "strings /dev/urandom | grep -o '[[:alnum:]]' | head -n 8 | tr -d '\n'; echo"
          strings /dev/urandom | grep -o '[[:alnum:]]' | head -n 8 | tr -d '\n'; echo
}
alias genpasswd='GeneratePassw'
# TODO is this for passing param to an alias?
#alias 'ps?'='ps ax | grep '

 alias ltm='RunBg ${dev}/LightTable-master/deploy/LightTable'
alias ltta='RunBg ${dev}/LightTable-atom/deploy/LightTable'
alias lttm='RunBg ${dev}/LightTable-master/deploy/LightTable'
 alias ltt='RunBg ${dev}/LightTable/deploy/LightTable'
alias plugins='Run cd ${dev}/LightTable/deploy/plugins'
 alias plugin='Run cd ${dev}/LightTable/deploy/plugins'
   alias plug='Run cd ${dev}/LightTable/deploy/plugins'
  alias my='Run cd ${dev}/lt-plugins-dev/my'

# alias convert='Run cd ${dev}/convert'
#    alias conv='Run cd ${dev}/convert'


# TODO use 'pkill ltbin' instead of 'kill $(pidof ltbin)'
KillProg() {
    echo "kill \`pidof $1\`"
          kill  `pidof $1`
}
alias kjava='KillProg java'
# kill LightTable
alias klt='KillProg ltbin'


KillServer() {
    echo "# lsof - list open files"
    echo "kill \$(lsof -i:8080 -t)"
          kill  $(lsof -i:8080 -t)
}
alias ksrv='KillServer'
alias kserver='KillServer'


alias blm='Run bash -x ${dev}/LightTable-master/linux_deps.sh'
alias bl='Run bash linux_deps.sh'
alias clt='cd ${dev}/LightTable'
alias lct='cd ${dev}/LightTable'   # too many lct typos
 alias lt='ls -lat'
alias ltr='ls -latr'
alias lff='ls -lrt -d -1 $PWD/{*,.*}'
 alias lT='ls -latr'

# last changed file
LastChangedFile() {
    echo "find . -printf '%T+ %p\n' | sort -r | head -1"
          find . -printf '%T+ %p\n' | sort -r | head -1
}
alias lcf='LastChangedFile'
alias he='head'
# TODO create alias file for the eshell; runs 0.007 sec
#alias | sed -E "s/^alias ([^=]+)='(.*)'$/alias \1 \2 \$*/g; s/'\\\''/'/g;" >~/.emacs.d/eshell/alias

# get ip addresses for every interface
getip() {
    /sbin/ifconfig | \
    grep -B1 "inet addr" | \
    awk '{ if ( $1 == "inet" ) { print $2 } else if ( $2 == "Link" ) { printf "%s:" ,$1 } }' | \
    awk -F: '{ print $1 ": " $3 }';
}

# changes in lt-syntaxstatusbar
gf() {
    # echo grep $@ $(find src/ -regex '.*cljs\|.*clj') | grep -v 'Is a directory'
         grep $@ $(find src/ -regex '.*cljs\|.*clj') | grep -v 'Is a directory'
}
alias dos2unix='Run fromdos'
alias d2u='Run fromdos'
alias unix2dos='Run todos'
alias u2d='Run todos'
alias ac='Run ack-grep'
alias ag='Run ack-grep'
alias g='egrep -i'
alias logout='Run xfce4-session-logout'
alias lout='Run xfce4-session-logout'
alias logoff='Run xfce4-session-logout'
alias loff='Run xfce4-session-logout'

IpAddress() {
    echo "######################################################"
    echo "### 'ifconfig' is obsolete. Using: 'ip address'    ###"
    echo "######################################################"
    Run ip address $@
    echo "######################################################"
    echo "### 'ifconfig' is obsolete. Using: 'ip address'    ###"
    echo "######################################################"
}
alias ifconfig='IpAddress'

SocketStatistics() {
    echo "#############################################################"
    echo "### 'netstat' is obsolete. Using: 'ss' (SocketStatistics) ###"
    echo "#############################################################"
    Run ss $@
    echo "#############################################################"
    echo "### 'netstat' is obsolete. Using: 'ss' (SocketStatistics) ###"
    echo "#############################################################"
}
alias netstat='SocketStatistics'

# TODO check leiningen installation
#alias lein='$HOME/bin/lein'

# TODO virtualbox: mount ~/shared
# mount -t deviceFileFormat -o umask=filePermissons,gid=ownerGroupID,uid=ownerID /device /mountpoint
# following doesn't work:
# sudo mount -t vboxsf -o umask=0022,gid=1000,uid=1000 dev share/
# tolin() {
#     echo sudo chown --reference=$HOME/.bashrc $@
#          sudo chown --reference=$HOME/.bashrc $@
# }

# TODO define $cdpath - where to jump

timestamp() {
    # date +"%T" - prints just %H:%M:%S
    date "+%F_%H-%M-%S" # same as "+%Y-%m-%d_%H-%M-%S"
}

backup() {
    # See parameter expansion http://goo.gl/bXn8rO
    if [ -z ${backupDest+x} ]; then
        local backupDir="."  # echo "var unset";
    else
        local backupDir=${backupDest}  # echo "var set to '$var'";
    fi

    local orig=$1
    local backupCopy="${backupDir}/$(timestamp)__$orig"
    # Run rsync --archive --verbose $orig $backupCopy
    # Run rsync --archive --info=stats2,misc1,flist0 $orig $backupCopy
    Run rsync --archive --info=progress2 $orig $backupCopy
}

shebang() {
  echo "#!/usr/bin/env bash" >> ${1}
  echo "# -*- coding:utf-8 -*-" >> ${1}
  echo "" >> ${1}
  echo "# debugging:" >> ${1}
  echo "# set -x" >> ${1}
  echo "# stop on error:" >> ${1}
  echo "# set -e" >> ${1}
  echo "" >> ${1}
}

# alias nt='Run nmcli -terse -fields STATE general status'
alias nt='Run nmcli general status'
